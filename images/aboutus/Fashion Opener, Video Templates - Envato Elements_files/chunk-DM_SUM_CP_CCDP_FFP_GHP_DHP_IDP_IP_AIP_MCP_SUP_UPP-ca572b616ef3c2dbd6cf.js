"use strict";(self.webpackChunk_envato_elements_storefront=self.webpackChunk_envato_elements_storefront||[]).push([[9344],{"Gt+T":(t,e,r)=>{r.d(e,{Z:()=>h}),r("+KXO"),r("1t7P"),r("LW0h"),r("7x/C"),r("daRM"),r("jwue"),r("+oxZ"),r("FtHn"),r("EgRP"),r("UvmB");var n=r("OHGK"),o=r("ERkP"),a=r("O94r"),c=r.n(a);const i="NgtXrCQY",u="QXCLOii8";function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f={width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0},p=function(t,e,r){return e?r?e<t?function(t,e){return l(l({},f),{},{top:"".concat((e-t)/e/2*100,"%"),height:"auto"})}(t,e):function(t,e){return l(l({},f),{},{left:"".concat((100-e/t*100)/2,"%"),width:"auto"})}(t,e):e>t?function(t,e){return l(l({},f),{},{top:"".concat((e-t)/e/2*100,"%"),width:"auto"})}(t,e):function(t,e){return l(l({},f),{},{left:"".concat((100-e/t*100)/2,"%"),right:"".concat((100-e/t*100)/2,"%"),width:"auto"})}(t,e):f},v=function(t){var e=t.aspectRatio,r=t.innerAspectRatio,n=t.crop,a=t.fit,s=t.children,l=t.className,f=t.placeholder;return o.createElement("div",{className:c()(i,l)},o.createElement("div",{className:u,style:{paddingTop:"".concat(100/e,"%")}}),a?o.createElement("div",{style:p(e,r,!1)},o.createElement("div",{className:i},o.createElement("div",{className:u,style:{paddingTop:"".concat(100/r,"%")}},f&&f(p(r)),s(p(r))))):o.createElement(o.Fragment,null,f&&f(p(r)),s(p(e,r,n))))};v.defaultProps={innerAspectRatio:null,crop:!1,fit:!1,className:null,placeholder:null};const h=v},"0MDi":(t,e,r)=>{r.d(e,{Z:()=>h}),r("OZaJ");var n=r("BxAp"),o=r("nTdK"),a=r("+plb"),c=r("yDWy"),i=r("Zpl/"),u=r("bY8i"),s=r("OHGK"),l=(r("KOtZ"),r("7x/C"),r("2G9S"),r("jwue"),r("+oxZ"),r("i4UL"),r("plBw"),r("ERkP")),f=r("xW/6"),p=r("W76J");var v=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return p.Z.apply(void 0,[t].concat(r))}((function(t){var e={topFromLeft:[],bottomFromRight:[]};if(!t)return e;var r=t.reduce((function(t,e){return e>t?Math.abs(e):t}),0);return t.reduce((function(t,e,n){var o=e/r*100;return n%2==0?t.bottomFromRight.unshift(o):t.topFromLeft.push(o),t}),e)}));const h=function(t){(0,c.Z)(h,t);var e,r,p=(e=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,u.Z)(e);if(r){var o=(0,u.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,i.Z)(this,t)});function h(){var t;(0,n.Z)(this,h);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=p.call.apply(p,[this].concat(r)),(0,s.Z)((0,a.Z)(t),"handleResize",(function(){t.generateWaveform()})),(0,s.Z)((0,a.Z)(t),"drawWaveformFromPoints",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=t.canvas.current,a=t.props.color,c=n/2,i=v(e),u=i.topFromLeft,s=i.bottomFromRight,l=r/u.length,f=r-l;if(o){var p=o.getContext("2d");p.strokeStyle=a,p.fillStyle=a,p.beginPath(),p.moveTo(0,c),u.forEach((function(t,e){p.lineTo(e*l,c-t*c/100)})),s.forEach((function(t,e){p.lineTo(f-e*l,c-t*c/100)})),p.closePath(),p.stroke(),p.fill()}})),(0,s.Z)((0,a.Z)(t),"drawBaseline",(function(e,r){var n=t.canvas.current,o=t.props.color,a=r/2;if(n){var c=n.getContext("2d");c.strokeStyle=o,c.beginPath(),c.moveTo(0,a),c.lineTo(e,a),c.stroke()}})),(0,s.Z)((0,a.Z)(t),"generateWaveform",(function(){var e=t.props.waveformData,r=t.canvas.current,n=t.container.current;if(r&&n){var o=2*n.parentNode.clientWidth,a=2*n.clientHeight;r.width=o,r.height=a,Array.isArray(e)&&e.length>0?t.drawWaveformFromPoints(e,o,a):t.drawBaseline(o,a)}})),(0,s.Z)((0,a.Z)(t),"canvas",l.createRef()),(0,s.Z)((0,a.Z)(t),"container",l.createRef()),t}return(0,o.Z)(h,[{key:"componentDidMount",value:function(){this.generateWaveform(),(0,f.Z)(window,"resize",this.handleResize)}},{key:"componentDidUpdate",value:function(t){t.waveformData!==this.props.waveformData&&this.generateWaveform()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize,!0)}},{key:"render",value:function(){var t=this.props,e=t.ariaLabel,r=t.progress;return l.createElement("div",{ref:this.container,className:"hzL0rnXG",style:{width:r&&"".concat(r,"%")}},l.createElement("canvas",{ref:this.canvas,className:"p25_px7n","aria-label":e,role:e&&"img"}))}}]),h}(l.Component)},dJjn:(t,e,r)=>{r.d(e,{Z:()=>k}),r("7x/C"),r("OZaJ");var n=r("BxAp"),o=r("nTdK"),a=r("yDWy"),c=r("Zpl/"),i=r("bY8i"),u=r("OHGK"),s=(r("sVFb"),r("ERkP")),l=r("+5ie"),f=r("9q0v"),p=r("qKNb"),v=r.n(p),h=(r("lTEL"),r("JtPf"),r("87if"),r("kYxP"),r("z84I"),r("2gaG")),d=r("sxWj"),m=r.n(d),y=r("M64w"),g=function(t){return JSON.parse(t.text).data};function w(t){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(v().mark((function t(e){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m().get(e);case 3:return r=t.sent,t.abrupt("return",g(r));case 7:return t.prev=7,t.t0=t.catch(0),y.Z.log("getWaveForm error:",t.t0),t.abrupt("return",void 0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var b=function(t,e){return{type:h.TT.FETCH_SUCCESS,payload:{waveformSourceUrlList:t,waveformList:e}}};var O,P=[];var R=function(t){(0,a.Z)(s,t);var e,r,u=(e=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,i.Z)(e);if(r){var o=(0,i.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.Z)(this,t)});function s(){return(0,n.Z)(this,s),u.apply(this,arguments)}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){this.props.shouldFetch&&this.fetchWaveform()}},{key:"componentDidUpdate",value:function(t){this.props.shouldFetch&&this.props.shouldFetch!==t.shouldFetch&&this.fetchWaveform()}},{key:"fetchWaveform",value:function(){var t=this.props,e=t.waveformData,r=t.item,n=t.dispatch;e||"string"!=typeof r.coverAudio||function(t,e){O&&clearTimeout(O),P.push(e),O=setTimeout((function(){var e;t((e=P,function(){var t=(0,f.Z)(v().mark((function t(r){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map(function(){var t=(0,f.Z)(v().mark((function t(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));case 2:n=t.sent,r(b(e,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),P=[]}),200)}(n,r.coverAudio)}},{key:"render",value:function(){return this.props.children(this.props.waveformData)}}]),s}(s.Component);(0,u.Z)(R,"defaultProps",{shouldFetch:!0});const k=(0,l.$j)((function(t,e){var r,n;return{waveformData:null===(r=t.audioPlayer)||void 0===r||null===(n=r.waveformData)||void 0===n?void 0:n[e.item.coverAudio]}}))(R)}}]);